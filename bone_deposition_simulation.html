<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³¨ ì¬í˜•ì„± ì—­ì „/ì¹¨ì°© ê³¼ì • ìƒì„¸ ì‹œë®¬ë ˆì´ì…˜</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #2c5530, #4a7c59);
            color: white;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid #ffeb3b;
            padding-bottom: 20px;
        }

        .simulation-area {
            background: linear-gradient(to bottom, #f8f9fa, #e9ecef);
            border-radius: 10px;
            padding: 30px;
            margin: 20px 0;
            position: relative;
            height: 550px;
            overflow: hidden;
            border: 3px solid #333;
        }

        .blood-vessel {
            position: absolute;
            top: 40px;
            left: 50px;
            width: 220px;
            height: 35px;
            background: linear-gradient(to right, #e74c3c, #c0392b);
            border-radius: 18px;
            border: 2px solid #8b0000;
        }

        .bone-marrow {
            position: absolute;
            top: 40px;
            right: 50px;
            width: 150px;
            height: 80px;
            background: linear-gradient(to bottom, #f39c12, #e67e22);
            border-radius: 10px;
            border: 2px solid #d35400;
        }

        .bone-surface {
            position: absolute;
            bottom: 60px;
            left: 0;
            right: 0;
            height: 120px;
            background: linear-gradient(to bottom, #d4c5b9, #b8a082);
            border-top: 3px solid #8b7355;
            transition: all 2s ease;
        }

        .bone-matrix-layers {
            position: absolute;
            width: 100%;
            height: 40px;
            background: repeating-linear-gradient(
                90deg,
                #c9b899 0px,
                #c9b899 5px,
                #b8a082 5px,
                #b8a082 10px
            );
            bottom: 120px;
            opacity: 0.8;
        }

        .brc-compartment {
            position: absolute;
            bottom: 60px;
            left: 42%;
            width: 160px;
            height: 80px;
            background: rgba(52, 73, 94, 0.3);
            border: 3px dashed #34495e;
            border-radius: 10px;
            transition: all 1s ease;
        }

        .brc-label {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: #ffeb3b;
            padding: 5px 12px;
            border-radius: 5px;
            font-size: 12px;
            font-weight: bold;
        }

        .resorption-cavity {
            position: absolute;
            bottom: 60px;
            left: 45%;
            width: 120px;
            height: 60px;
            background: #34495e;
            border-radius: 60px 60px 0 0;
            border: 2px solid #2c3e50;
            transition: all 2s ease;
        }

        .osteoclast {
            position: absolute;
            width: 70px;
            height: 70px;
            background: radial-gradient(circle, #8e44ad, #6a1b9a);
            border-radius: 50%;
            border: 3px solid #4a148c;
            transition: all 2s ease;
            opacity: 1;
        }

        .osteoclast.apoptotic {
            background: radial-gradient(circle, #7f8c8d, #34495e);
            transform: scale(0.4);
            opacity: 0.2;
            filter: blur(1px);
        }

        .nucleus {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #2c3e50;
            border-radius: 50%;
            border: 1px solid #34495e;
        }

        .mononuclear-cell {
            position: absolute;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, #95a5a6, #7f8c8d);
            border-radius: 50%;
            border: 2px solid #34495e;
            transition: all 1s ease;
        }

        .osteoblast-precursor {
            position: absolute;
            width: 25px;
            height: 25px;
            background: radial-gradient(circle, #27ae60, #1e8449);
            border-radius: 50%;
            border: 2px solid #145a32;
            transition: all 1.5s ease-in-out;
        }

        .mature-osteoblast {
            position: absolute;
            width: 30px;
            height: 30px;
            background: radial-gradient(circle, #2ecc71, #27ae60);
            border-radius: 50%;
            border: 3px solid #145a32;
            opacity: 0;
            transition: all 1s ease;
        }

        .active-osteoblast {
            position: absolute;
            width: 25px;
            height: 35px;
            background: linear-gradient(to bottom, #2ecc71, #27ae60);
            border-radius: 50% 50% 20% 20%;
            border: 2px solid #145a32;
            opacity: 0;
            transition: all 1s ease;
        }

        .opg-molecule {
            position: absolute;
            width: 14px;
            height: 14px;
            background: #f39c12;
            border-radius: 50%;
            border: 2px solid #e67e22;
            animation: float 2s ease-in-out infinite alternate;
        }

        .igf-molecule {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #3498db;
            border-radius: 50%;
            border: 2px solid #2471a3;
            animation: float 2.5s ease-in-out infinite alternate;
        }

        .growth-factor {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #9b59b6;
            border-radius: 50%;
            border: 1px solid #8e44ad;
            animation: growthFactorRelease 4s ease-out infinite;
            opacity: 0;
        }

        .protease-particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #e74c3c;
            border-radius: 50%;
            animation: cleaningMotion 3s linear infinite;
            opacity: 0;
        }

        @keyframes cleaningMotion {
            0% { transform: translate(0, 0) rotate(0deg); opacity: 1; }
            25% { transform: translate(25px, -10px) rotate(90deg); opacity: 0.8; }
            50% { transform: translate(15px, -25px) rotate(180deg); opacity: 0.6; }
            75% { transform: translate(-15px, -20px) rotate(270deg); opacity: 0.4; }
            100% { transform: translate(0, 0) rotate(360deg); opacity: 0; }
        }

        @keyframes growthFactorRelease {
            0% { 
                transform: translate(0, 0) scale(0.3);
                opacity: 1;
            }
            30% {
                opacity: 1;
                transform: translate(30px, -20px) scale(1);
            }
            70% {
                opacity: 0.8;
                transform: translate(80px, -50px) scale(1.2);
            }
            100% { 
                transform: translate(150px, -100px) scale(0.5);
                opacity: 0;
            }
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-8px); }
        }

        .osteoid-layer {
            position: absolute;
            bottom: 140px;
            left: 40%;
            width: 140px;
            height: 12px;
            background: linear-gradient(to right, #f1c40f, #f39c12);
            border-radius: 6px;
            opacity: 0;
            transition: all 2s ease;
            border: 1px solid #d35400;
        }

        .osteoid-advanced {
            position: absolute;
            bottom: 152px;
            left: 38%;
            width: 160px;
            height: 16px;
            background: linear-gradient(to right, #f4d03f, #f1c40f);
            border-radius: 8px;
            opacity: 0;
            transition: all 2s ease;
            border: 1px solid #d35400;
        }

        .mineralized-bone {
            position: absolute;
            bottom: 168px;
            left: 36%;
            width: 180px;
            height: 20px;
            background: linear-gradient(to right, #ecf0f1, #bdc3c7);
            border-radius: 10px;
            opacity: 0;
            transition: all 2s ease;
            border: 2px solid #85929e;
        }

        .collagen-fibers {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: repeating-linear-gradient(
                45deg,
                rgba(241, 196, 15, 0.3) 0px,
                rgba(241, 196, 15, 0.3) 2px,
                transparent 2px,
                transparent 4px
            );
        }

        .calcium-crystal {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #ecf0f1;
            border-radius: 1px;
            animation: crystallization 3s ease-in-out infinite;
            opacity: 0;
        }

        @keyframes crystallization {
            0%, 100% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .trapped-osteoblast {
            position: absolute;
            width: 15px;
            height: 15px;
            background: radial-gradient(circle, #1abc9c, #16a085);
            border-radius: 50%;
            border: 2px solid #0e6b5d;
            opacity: 0;
            transition: all 1s ease;
        }

        .osteocyte-network {
            position: absolute;
            width: 2px;
            height: 20px;
            background: #16a085;
            opacity: 0;
            transition: all 1s ease;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 10px 18px;
            font-size: 14px;
            font-weight: bold;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            min-width: 140px;
        }

        .btn-step1 { background: linear-gradient(45deg, #f39c12, #e67e22); }
        .btn-step2 { background: linear-gradient(45deg, #8e44ad, #7d3c98); }
        .btn-step3 { background: linear-gradient(45deg, #95a5a6, #7f8c8d); }
        .btn-step4 { background: linear-gradient(45deg, #3498db, #2471a3); }
        .btn-step5 { background: linear-gradient(45deg, #27ae60, #1e8449); }
        .btn-step6 { background: linear-gradient(45deg, #2ecc71, #27ae60); }
        .btn-step7 { background: linear-gradient(45deg, #f1c40f, #f39c12); }
        .btn-step8 { background: linear-gradient(45deg, #ecf0f1, #bdc3c7); color: #2c3e50; }
        .btn-reset { background: linear-gradient(45deg, #e74c3c, #c0392b); }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }

        .info-panel {
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #ffeb3b;
        }

        .step-info {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .step-info.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .molecule-legend {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.9);
            padding: 15px;
            border-radius: 8px;
            font-size: 11px;
            max-width: 200px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 4px 0;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
            border: 1px solid #fff;
            flex-shrink: 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #ddd;
            border-radius: 4px;
            margin: 15px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71, #f1c40f, #ecf0f1);
            width: 0%;
            transition: width 0.5s ease;
        }

        .phase-indicator {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            font-size: 12px;
        }

        .phase-box {
            padding: 5px 10px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .phase-box.active {
            background: #f39c12;
            color: #2c3e50;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¦´ ê³¨ ì¬í˜•ì„± ì—­ì „/ì¹¨ì°© ê³¼ì • ìƒì„¸ ì‹œë®¬ë ˆì´ì…˜</h1>
            <h2>3. ì—­ì „ (Reversal) â†’ 5. ì¹¨ì°© (Deposition)</h2>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="phase-indicator">
                <div class="phase-box" id="phase-reversal">ì—­ì „ ë‹¨ê³„</div>
                <div class="phase-box" id="phase-deposition">ì¹¨ì°© ë‹¨ê³„</div>
            </div>
        </div>

        <div class="simulation-area" id="simulationArea">
            <!-- í˜ˆê´€ -->
            <div class="blood-vessel">
                <div style="position: absolute; top: -20px; left: 10px; color: #333; font-size: 12px; font-weight: bold;">í˜ˆê´€ (Blood vessel)</div>
            </div>

            <!-- ê³¨ìˆ˜ -->
            <div class="bone-marrow">
                <div style="position: absolute; top: -20px; left: 10px; color: #333; font-size: 12px; font-weight: bold;">ê³¨ìˆ˜ (Bone marrow)</div>
            </div>

            <!-- ê³¨ í‘œë©´ -->
            <div class="bone-surface">
                <div style="position: absolute; top: -25px; left: 20px; color: #333; font-size: 12px; font-weight: bold;">ê¸°ì¡´ ê³¨ ì¡°ì§</div>
            </div>

            <!-- ê³¨ ë§¤íŠ¸ë¦­ìŠ¤ ì¸µ -->
            <div class="bone-matrix-layers"></div>

            <!-- BRC êµ¬íš -->
            <div class="brc-compartment" id="brcCompartment">
                <div class="brc-label">BRC</div>
            </div>

            <!-- í¡ìˆ˜ ê³µë™ -->
            <div class="resorption-cavity" id="resorptionCavity"></div>

            <!-- íŒŒê³¨ì„¸í¬ë“¤ -->
            <div class="osteoclast" id="osteoclast1" style="bottom: 130px; left: 42%;">
                <div class="nucleus" style="top: 15px; left: 20px;"></div>
                <div class="nucleus" style="top: 30px; left: 35px;"></div>
                <div class="nucleus" style="top: 45px; left: 25px;"></div>
            </div>
            <div class="osteoclast" id="osteoclast2" style="bottom: 125px; left: 52%;">
                <div class="nucleus" style="top: 20px; left: 25px;"></div>
                <div class="nucleus" style="top: 35px; left: 40px;"></div>
            </div>

            <!-- ê³¨ê¸°ì§ˆ ì¸µë“¤ -->
            <div class="osteoid-layer" id="osteoidLayer">
                <div class="collagen-fibers"></div>
            </div>
            <div class="osteoid-advanced" id="osteoidAdvanced">
                <div class="collagen-fibers"></div>
            </div>
            
            <!-- ë¬´ê¸°ì§ˆí™”ëœ ê³¨ -->
            <div class="mineralized-bone" id="mineralizedBone"></div>

            <!-- ë¶„ì ë²”ë¡€ -->
            <div class="molecule-legend">
                <h4 style="margin: 0 0 10px 0; color: #ffeb3b;">ë¶„ì/ì„¸í¬ í‘œì‹œ</h4>
                <div class="legend-item">
                    <div class="legend-color" style="background: #f39c12;"></div>
                    <span>OPG (Osteoprotegerin)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #8e44ad;"></div>
                    <span>íŒŒê³¨ì„¸í¬ (Osteoclast)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #95a5a6;"></div>
                    <span>ë‹¨í•µì„¸í¬ (Mononuclear)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #3498db;"></div>
                    <span>IGF (Growth factor)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #27ae60;"></div>
                    <span>ì¡°ê³¨ì„¸í¬ ì „êµ¬ì„¸í¬</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #2ecc71;"></div>
                    <span>ì„±ìˆ™ ì¡°ê³¨ì„¸í¬</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #1abc9c;"></div>
                    <span>ê³¨ì„¸í¬ (Osteocyte)</span>
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="control-btn btn-step1" onclick="step1()">1. OPG ë¶„ë¹„</button>
            <button class="control-btn btn-step2" onclick="step2()">2. íŒŒê³¨ì„¸í¬ ì•„í½í† ì‹œìŠ¤</button>
            <button class="control-btn btn-step3" onclick="step3()">3. ì²­ì†Œ ê³¼ì •</button>
            <button class="control-btn btn-step4" onclick="step4()">4. ì„±ì¥ì¸ì ë°©ì¶œ</button>
            <button class="control-btn btn-step5" onclick="step5()">5. ì „êµ¬ì„¸í¬ ëª¨ì§‘</button>
            <button class="control-btn btn-step6" onclick="step6()">6. ì¡°ê³¨ì„¸í¬ ë¶„í™”</button>
            <button class="control-btn btn-step7" onclick="step7()">7. ê³¨ê¸°ì§ˆ ì¹¨ì°©</button>
            <button class="control-btn btn-step8" onclick="step8()">8. ë¬´ê¸°ì§ˆí™”</button>
            <button class="control-btn btn-reset" onclick="resetSimulation()">ì´ˆê¸°í™”</button>
        </div>

        <div class="info-panel">
            <div class="step-info active" id="info-initial">
                <h3>ğŸ”„ ê³¨ ì¬í˜•ì„±: ì—­ì „ â†’ ì¹¨ì°© ê³¼ì •</h3>
                <p><strong>í¡ìˆ˜ ì™„ë£Œ í›„</strong> ìƒˆë¡œìš´ ê³¨ì„ í˜•ì„±í•˜ëŠ” ì •êµí•œ ê³¼ì •ì…ë‹ˆë‹¤.</p>
                <p>â€¢ <strong>ì—­ì „ ë‹¨ê³„</strong>: íŒŒê³¨ì„¸í¬ â†’ ì¡°ê³¨ì„¸í¬ë¡œ ì „í™˜</p>
                <p>â€¢ <strong>ì¹¨ì°© ë‹¨ê³„</strong>: ê³¨ê¸°ì§ˆ í•©ì„± ë° ë¬´ê¸°ì§ˆí™”</p>
                <p>â€¢ ì „ì²´ ê³¼ì •: <strong>3-4ê°œì›”</strong> ì†Œìš”</p>
                <p>â€¢ BRC (Basic Remodeling Compartment) ë‚´ì—ì„œ ì§„í–‰</p>
            </div>

            <div class="step-info" id="info-step1">
                <h3>1ï¸âƒ£ OPG ë¶„ë¹„ (Osteoprotegerin Release)</h3>
                <p><strong>ì¡°ê³¨ì„¸í¬</strong>ì—ì„œ "ì¶©ë¶„í•œ ê³¨ì´ ì œê±°ë˜ì—ˆìŒ"ì„ ê°ì§€í•˜ê³  OPGë¥¼ ë¶„ë¹„í•©ë‹ˆë‹¤.</p>
                <p>â€¢ OPG = <strong>RANKLì˜ decoy receptor</strong></p>
                <p>â€¢ RANKLì„ ì¤‘í™”í•˜ì—¬ ì¶”ê°€ íŒŒê³¨ì„¸í¬ í™œì„±í™” ì°¨ë‹¨</p>
                <p>â€¢ ê³¨í¡ìˆ˜ â†’ ê³¨í˜•ì„±ìœ¼ë¡œì˜ <strong>ë¶„ìì  ìŠ¤ìœ„ì¹˜</strong></p>
                <p>â€¢ <strong>"ì¶©ë¶„íˆ ì œê±°ë˜ì—ˆë‹¤"</strong>ëŠ” ì‹ í˜¸ ì „ë‹¬</p>
            </div>

            <div class="step-info" id="info-step2">
                <h3>2ï¸âƒ£ íŒŒê³¨ì„¸í¬ ì•„í½í† ì‹œìŠ¤ (Osteoclast Apoptosis)</h3>
                <p>OPG ì‹ í˜¸ë¥¼ ë°›ì€ íŒŒê³¨ì„¸í¬ë“¤ì´ <strong>ê³„íšëœ ì„¸í¬ì‚¬(apoptosis)</strong>ë¥¼ ê²ªìŠµë‹ˆë‹¤.</p>
                <p>â€¢ ì„¸í¬ ìˆ˜ì¶• ë° ë¶„í•´ ê³¼ì • ì‹œì‘</p>
                <p>â€¢ í•µ ë¶„í•´ ë° ì„¸í¬ë§‰ integrity ì†ì‹¤</p>
                <p>â€¢ <strong>ë¶„ë¦¬(detach)</strong> ë° ì‚¬ë©¸</p>
                <p>â€¢ ì¶”ê°€ì ì¸ ê³¨í¡ìˆ˜ ì™„ì „ ì¤‘ë‹¨</p>
            </div>

            <div class="step-info" id="info-step3">
                <h3>3ï¸âƒ£ ì²­ì†Œ ê³¼ì • (Surface Cleaning)</h3>
                <p><strong>ë‹¨í•µì„¸í¬</strong>ë“¤ì´ ì‘ì—…ì¥ìœ¼ë¡œ ì´ë™í•˜ì—¬ ì •ë¦¬ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</p>
                <p>â€¢ <strong>í”„ë¡œí…Œì•„ì œ</strong> ë¶„ë¹„ë¡œ ì”ì—¬ ê³¨í¸ ì œê±°</p>
                <p>â€¢ ì•„í½í† ì‹œìŠ¤ëœ íŒŒê³¨ì„¸í¬ ì”í•´ ì²­ì†Œ</p>
                <p>â€¢ ê³¨ í‘œë©´ í‰í™œí™” ë° ì¤€ë¹„</p>
                <p>â€¢ <strong>ìƒˆë¡œìš´ ê³¨ ì¹¨ì°©ì„ ìœ„í•œ ìµœì  í™˜ê²½ ì¡°ì„±</strong></p>
            </div>

            <div class="step-info" id="info-step4">
                <h3>4ï¸âƒ£ ì„±ì¥ì¸ì ë°©ì¶œ (Growth Factor Liberation)</h3>
                <p>ê³¨ í¡ìˆ˜ ê³¼ì •ì—ì„œ <strong>ê³¨ ë§¤íŠ¸ë¦­ìŠ¤ì— ì €ì¥ëœ ì„±ì¥ì¸ì</strong>ë“¤ì´ ë°©ì¶œë©ë‹ˆë‹¤.</p>
                <p>â€¢ <strong>IGF-1</strong> (Insulin-like Growth Factor): ì¡°ê³¨ì„¸í¬ ì¦ì‹ ì´‰ì§„</p>
                <p>â€¢ <strong>TGF-Î²</strong>: ì¡°ê³¨ì„¸í¬ ë¶„í™” ìœ ë„</p>
                <p>â€¢ <strong>PDGF</strong>: í˜ˆê´€ì‹ ìƒ ë° ì„¸í¬ ë™ì›</p>
                <p>â€¢ ì´ ì¸ìë“¤ì´ <strong>ê³¨ ë§¤íŠ¸ë¦­ìŠ¤ì— ê²°í•©ë˜ì–´ ì €ì¥</strong>ë˜ì–´ ìˆì—ˆìŒ</p>
            </div>

            <div class="step-info" id="info-step5">
                <h3>5ï¸âƒ£ ì¡°ê³¨ì„¸í¬ ì „êµ¬ì„¸í¬ ëª¨ì§‘ (Osteoblast Precursor Recruitment)</h3>
                <p>ì„±ì¥ì¸ìë“¤ì´ <strong>í˜ˆê´€ê³¼ ê³¨ìˆ˜</strong>ì—ì„œ ì¡°ê³¨ì„¸í¬ ì „êµ¬ì„¸í¬ë“¤ì„ ëª¨ì§‘í•©ë‹ˆë‹¤.</p>
                <p>â€¢ <strong>ì¤‘ê°„ì—½ ì¤„ê¸°ì„¸í¬</strong> ê¸°ì›ì˜ ì „êµ¬ì„¸í¬ë“¤</p>
                <p>â€¢ í˜ˆê´€ì„ í†µí•œ ìˆœí™˜ ê²½ë¡œ</p>
                <p>â€¢ ê³¨ìˆ˜ì—ì„œ êµ­ì†Œ ë™ì›</p>
                <p>â€¢ <strong>BRCë¡œ ì´ë™(migrate)</strong>í•˜ì—¬ ì‘ì—…ì¥ ë„ì°©</p>
            </div>

            <div class="step-info" id="info-step6">
                <h3>6ï¸âƒ£ ì¡°ê³¨ì„¸í¬ ë¶„í™” (Osteoblast Differentiation)</h3>
                <p>ì „êµ¬ì„¸í¬ë“¤ì´ BRCì—ì„œ <strong>ì„±ìˆ™í•œ ì¡°ê³¨ì„¸í¬ë¡œ ë¶„í™”</strong>í•©ë‹ˆë‹¤.</p>
                <p>â€¢ <strong>Runx2, Osterix</strong> ì „ì‚¬ì¸ì í™œì„±í™”</p>
                <p>â€¢ Type I ì½œë¼ê², ì˜¤ìŠ¤í…Œì˜¤ì¹¼ì‹  ë“± ê³¨ ë‹¨ë°±ì§ˆ í•©ì„±</p>
                <p>â€¢ ì•Œì¹¼ë¦¬ í¬ìŠ¤íŒŒíƒ€ì œ í™œì„± ì¦ê°€</p>
                <p>â€¢ ê³¨ê¸°ì§ˆ í•©ì„± ê¸°ê³„ë¡œ ì™„ì „ ë³€í™˜</p>
            </div>

            <div class="step-info" id="info-step7">
                <h3>7ï¸âƒ£ ê³¨ê¸°ì§ˆ ì¹¨ì°© (Osteoid Deposition)</h3>
                <p>ì„±ìˆ™í•œ ì¡°ê³¨ì„¸í¬ë“¤ì´ <strong>ê³¨ê¸°ì§ˆ(osteoid)</strong>ì„ ì²´ê³„ì ìœ¼ë¡œ ì¹¨ì°©í•©ë‹ˆë‹¤.</p>
                <p>â€¢ <strong>Type I ì½œë¼ê²</strong> (ê³¨ê¸°ì§ˆì˜ 90%) í•©ì„±</p>
                <p>â€¢ ì˜¤ìŠ¤í…Œì˜¤ë„¥í‹´, ì˜¤ìŠ¤í…Œì˜¤í°í‹´ ë“± ë¹„ì½œë¼ê² ë‹¨ë°±ì§ˆ</p>
                <p>â€¢ í”„ë¡œí…Œì˜¤ê¸€ë¦¬ì¹¸ ë° ë‹¹ë‹¨ë°±ì§ˆ ì¹¨ì°©</p>
                <p>â€¢ <strong>ìœ ê¸°ì§ˆ ë§¤íŠ¸ë¦­ìŠ¤</strong> ì™„ì„± (ì•„ì§ ë¬´ê¸°ì§ˆí™” ì „)</p>
            </div>

            <div class="step-info" id="info-step8">
                <h3>8ï¸âƒ£ ë¬´ê¸°ì§ˆí™” ë° ê³¨ì„¸í¬ í˜•ì„± (Mineralization & Osteocyte Formation)</h3>
                <p>ê³¨ê¸°ì§ˆì´ <strong>ë¬´ê¸°ì§ˆí™”</strong>ë˜ê³  ì¼ë¶€ ì¡°ê³¨ì„¸í¬ê°€ <strong>ê³¨ì„¸í¬</strong>ë¡œ ì „í™˜ë©ë‹ˆë‹¤.</p>
                <p>â€¢ <strong>í•˜ì´ë“œë¡ì‹œì•„íŒŒíƒ€ì´íŠ¸</strong> [Caâ‚â‚€(POâ‚„)â‚†(OH)â‚‚] ì¹¨ì°©</p>
                <p>â€¢ ê³¨ê¸°ì§ˆ â†’ ì„±ìˆ™í•œ ê³¨ì¡°ì§ ë³€í™˜</p>
                <p>â€¢ <strong>ê°‡íŒ ì¡°ê³¨ì„¸í¬(trapped osteoblast)</strong> â†’ ê³¨ì„¸í¬</p>
                <p>â€¢ ê³¨ì„¸í¬ ë„¤íŠ¸ì›Œí¬ (canaliculi) í˜•ì„±</p>
                <p>â€¢ <strong>ìƒˆë¡œìš´ ê³¨ì¸µ ì™„ì„±!</strong> ğŸ‰</p>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 0;

        function updateProgress() {
            const progressFill = document.getElementById('progressFill');
            progressFill.style.width = (currentStep / 8) * 100 + '%';
            
            // ë‹¨ê³„ë³„ phase í‘œì‹œ
            const reversalPhase = document.getElementById('phase-reversal');
            const depositionPhase = document.getElementById('phase-deposition');
            
            if (currentStep <= 3) {
                reversalPhase.classList.add('active');
                depositionPhase.classList.remove('active');
            } else {
                reversalPhase.classList.remove('active');
                depositionPhase.classList.add('active');
            }
        }

        function showStepInfo(step) {
            const allInfos = document.querySelectorAll('.step-info');
            allInfos.forEach(info => info.classList.remove('active'));
            
            const targetInfo = document.getElementById(`info-step${step}`) || document.getElementById('info-initial');
            targetInfo.classList.add('active');
        }

        function createMolecule(className, startX, startY, id, delay = 0) {
            setTimeout(() => {
                const molecule = document.createElement('div');
                molecule.className = className;
                molecule.style.left = startX + 'px';
                molecule.style.top = startY + 'px';
                molecule.id = id || '';
                document.getElementById('simulationArea').appendChild(molecule);
                
                // ìë™ ì œê±° (ë¶„ìë³„ ë‹¤ë¥¸ ìˆ˜ëª…)
                const lifetime = className.includes('growth-factor') ? 5000 : 
                               className.includes('protease') ? 4000 : 8000;
                setTimeout(() => {
                    if (molecule.parentNode) {
                        molecule.parentNode.removeChild(molecule);
                    }
                }, lifetime);
            }, delay);
        }

        function createPrecursor(startX, startY, id, delay = 0) {
            setTimeout(() => {
                const precursor = document.createElement('div');
                precursor.className = 'osteoblast-precursor';
                precursor.style.left = startX + 'px';
                precursor.style.top = startY + 'px';
                precursor.id = id;
                document.getElementById('simulationArea').appendChild(precursor);
            }, delay);
        }

        function step1() {
            if (currentStep >= 1) return;
            currentStep = 1;
            updateProgress();
            showStepInfo(1);

            // OPG ë¶„ìë“¤ ìƒì„± - ì¡°ê³¨ì„¸í¬ì—ì„œ ë¶„ë¹„
            for (let i = 0; i < 8; i++) {
                createMolecule('opg-molecule', 380 + i * 25, 180 + Math.random() * 60, `opg-${i}`, i * 200);
            }
        }

        function step2() {
            if (currentStep < 1 || currentStep >= 2) return;
            currentStep = 2;
            updateProgress();
            showStepInfo(2);

            // íŒŒê³¨ì„¸í¬ë“¤ ì•„í½í† ì‹œìŠ¤
            setTimeout(() => {
                document.getElementById('osteoclast1').classList.add('apoptotic');
            }, 300);
            
            setTimeout(() => {
                document.getElementById('osteoclast2').classList.add('apoptotic');
            }, 800);
        }

        function step3() {
            if (currentStep < 2 || currentStep >= 3) return;
            currentStep = 3;
            updateProgress();
            showStepInfo(3);

            // ë‹¨í•µì„¸í¬ë“¤ ë„ì°© (í˜ˆê´€ì—ì„œ)
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const mononuclear = document.createElement('div');
                    mononuclear.className = 'mononuclear-cell';
                    mononuclear.style.left = (280 + i * 30) + 'px';
                    mononuclear.style.top = '120px';
                    mononuclear.id = `mono-${i}`;
                    document.getElementById('simulationArea').appendChild(mononuclear);
                    
                    // BRCë¡œ ì´ë™
                    setTimeout(() => {
                        mononuclear.style.transform = `translate(${150 + i * 25}px, ${250}px)`;
                    }, 400);
                }, i * 300);
            }

            // í”„ë¡œí…Œì•„ì œ ì²­ì†Œ ì…ìë“¤
            setTimeout(() => {
                for (let i = 0; i < 12; i++) {
                    createMolecule('protease-particle', 450 + Math.random() * 80, 350 + Math.random() * 40, '', i * 150);
                }
            }, 1000);
        }

        function step4() {
            if (currentStep < 3 || currentStep >= 4) return;
            currentStep = 4;
            updateProgress();
            showStepInfo(4);

            // ê³¨ ë§¤íŠ¸ë¦­ìŠ¤ì—ì„œ ì„±ì¥ì¸ìë“¤ ë°©ì¶œ
            for (let i = 0; i < 15; i++) {
                createMolecule('growth-factor', 400 + Math.random() * 120, 380 + Math.random() * 30, '', i * 200);
            }

            // IGF ë¶„ìë“¤ ìƒì„±
            for (let i = 0; i < 10; i++) {
                createMolecule('igf-molecule', 420 + i * 15, 220 + Math.random() * 80, `igf-${i}`, i * 250);
            }
        }

        function step5() {
            if (currentStep < 4 || currentStep >= 5) return;
            currentStep = 5;
            updateProgress();
            showStepInfo(5);

            // í˜ˆê´€ì—ì„œ ì¡°ê³¨ì„¸í¬ ì „êµ¬ì„¸í¬ë“¤ ë™ì›
            for (let i = 0; i < 8; i++) {
                createPrecursor(70 + i * 20, 90, `precursor-blood-${i}`, i * 300);
                
                // BRCë¡œ ì´ë™
                setTimeout(() => {
                    const precursor = document.getElementById(`precursor-blood-${i}`);
                    if (precursor) {
                        precursor.style.transform = `translate(${350 + i * 20}px, ${280}px)`;
                    }
                }, 500 + i * 300);
            }

            // ê³¨ìˆ˜ì—ì„œë„ ì „êµ¬ì„¸í¬ë“¤ ë™ì›
            for (let i = 0; i < 4; i++) {
                createPrecursor(850 + i * 15, 100, `precursor-marrow-${i}`, i * 400);
                
                // BRCë¡œ ì´ë™
                setTimeout(() => {
                    const precursor = document.getElementById(`precursor-marrow-${i}`);
                    if (precursor) {
                        precursor.style.transform = `translate(${-350 - i * 30}px, ${280}px)`;
                    }
                }, 600 + i * 400);
            }
        }

        function step6() {
            if (currentStep < 5 || currentStep >= 6) return;
            currentStep = 6;
            updateProgress();
            showStepInfo(6);

            // ì „êµ¬ì„¸í¬ë“¤ì´ ì„±ìˆ™í•œ ì¡°ê³¨ì„¸í¬ë¡œ ë¶„í™”
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const activeOsteoblast = document.createElement('div');
                    activeOsteoblast.className = 'active-osteoblast';
                    activeOsteoblast.style.left = (420 + i * 20) + 'px';
                    activeOsteoblast.style.top = '350px';
                    activeOsteoblast.style.opacity = '1';
                    activeOsteoblast.id = `active-${i}`;
                    document.getElementById('simulationArea').appendChild(activeOsteoblast);
                    
                    // ë¶„í™” ì• ë‹ˆë©”ì´ì…˜
                    setTimeout(() => {
                        activeOsteoblast.style.transform = 'scaleY(1.2)';
                    }, 300);
                }, i * 200);
            }

            // BRC êµ¬íš í™œì„±í™” í‘œì‹œ
            setTimeout(() => {
                document.getElementById('brcCompartment').style.backgroundColor = 'rgba(46, 204, 113, 0.2)';
                document.getElementById('brcCompartment').style.borderColor = '#27ae60';
            }, 1000);
        }

        function step7() {
            if (currentStep < 6 || currentStep >= 7) return;
            currentStep = 7;
            updateProgress();
            showStepInfo(7);

            // ê³¨ê¸°ì§ˆ(osteoid) ì¹¨ì°© - ë‹¨ê³„ì  ì¸µ í˜•ì„±
            setTimeout(() => {
                document.getElementById('osteoidLayer').style.opacity = '1';
                document.getElementById('osteoidLayer').style.transform = 'scaleY(1.5)';
            }, 500);

            setTimeout(() => {
                document.getElementById('osteoidAdvanced').style.opacity = '1';
                document.getElementById('osteoidAdvanced').style.transform = 'scaleY(1.2)';
            }, 1500);

            // ê³¨ê¸°ì§ˆ ì„±ì¥ ì• ë‹ˆë©”ì´ì…˜
            setTimeout(() => {
                document.getElementById('osteoidLayer').style.width = '160px';
                document.getElementById('osteoidLayer').style.left = '38%';
                document.getElementById('osteoidAdvanced').style.width = '180px';
                document.getElementById('osteoidAdvanced').style.left = '36%';
            }, 2000);
        }

        function step8() {
            if (currentStep < 7 || currentStep >= 8) return;
            currentStep = 8;
            updateProgress();
            showStepInfo(8);

            // ë¬´ê¸°ì§ˆí™”ëœ ê³¨ í˜•ì„±
            setTimeout(() => {
                document.getElementById('mineralizedBone').style.opacity = '1';
                document.getElementById('mineralizedBone').style.transform = 'scaleY(1.3)';
            }, 500);

            // ì¹¼ìŠ˜ ê²°ì • ì• ë‹ˆë©”ì´ì…˜
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const crystal = document.createElement('div');
                    crystal.className = 'calcium-crystal';
                    crystal.style.left = (400 + Math.random() * 180) + 'px';
                    crystal.style.top = (170 + Math.random() * 40) + 'px';
                    crystal.style.opacity = '1';
                    document.getElementById('simulationArea').appendChild(crystal);
                }, i * 100);
            }

            // ì¼ë¶€ ì¡°ê³¨ì„¸í¬ê°€ ê³¨ì„¸í¬ë¡œ ë³€í™˜ (ê°‡íŒ ì„¸í¬ë“¤)
            setTimeout(() => {
                for (let i = 0; i < 5; i++) {
                    const trappedOsteoblast = document.createElement('div');
                    trappedOsteoblast.className = 'trapped-osteoblast';
                    trappedOsteoblast.style.left = (430 + i * 25) + 'px';
                    trappedOsteoblast.style.top = '320px';
                    trappedOsteoblast.style.opacity = '1';
                    document.getElementById('simulationArea').appendChild(trappedOsteoblast);
                    
                    // ê³¨ì„¸í¬ ë„¤íŠ¸ì›Œí¬ ì—°ê²°
                    if (i > 0) {
                        const network = document.createElement('div');
                        network.className = 'osteocyte-network';
                        network.style.left = (425 + i * 25) + 'px';
                        network.style.top = '325px';
                        network.style.opacity = '0.6';
                        network.style.transform = 'rotate(' + (Math.random() * 60 - 30) + 'deg)';
                        document.getElementById('simulationArea').appendChild(network);
                    }
                }
            }, 1500);

            // ê³¨ í‘œë©´ ë†’ì´ ì¦ê°€ (ìƒˆë¡œìš´ ê³¨ ì¸µ)
            setTimeout(() => {
                const boneSurface = document.querySelector('.bone-surface');
                boneSurface.style.height = '140px';
                boneSurface.style.bottom = '40px';
            }, 2500);
        }

        function resetSimulation() {
            currentStep = 0;
            updateProgress();
            showStepInfo(0);
            
            // íŒŒê³¨ì„¸í¬ ìƒíƒœ ë³µì›
            document.getElementById('osteoclast1').classList.remove('apoptotic');
            document.getElementById('osteoclast2').classList.remove('apoptotic');
            
            // BRC êµ¬íš ì´ˆê¸°í™”
            document.getElementById('brcCompartment').style.backgroundColor = 'rgba(52, 73, 94, 0.3)';
            document.getElementById('brcCompartment').style.borderColor = '#34495e';
            
            // ê³¨ê¸°ì§ˆ ë° ë¬´ê¸°ì§ˆí™” ì¸µ ìˆ¨ê¸°ê¸°
            document.getElementById('osteoidLayer').style.opacity = '0';
            document.getElementById('osteoidLayer').style.transform = 'scaleY(1)';
            document.getElementById('osteoidLayer').style.width = '140px';
            document.getElementById('osteoidLayer').style.left = '40%';
            
            document.getElementById('osteoidAdvanced').style.opacity = '0';
            document.getElementById('osteoidAdvanced').style.transform = 'scaleY(1)';
            document.getElementById('osteoidAdvanced').style.width = '160px';
            document.getElementById('osteoidAdvanced').style.left = '38%';
            
            document.getElementById('mineralizedBone').style.opacity = '0';
            document.getElementById('mineralizedBone').style.transform = 'scaleY(1)';
            
            // ê³¨ í‘œë©´ ì›ë˜ ë†’ì´ë¡œ ë³µì›
            const boneSurface = document.querySelector('.bone-surface');
            boneSurface.style.height = '120px';
            boneSurface.style.bottom = '60px';
            
            // ëª¨ë“  ìƒì„±ëœ ë¶„ìë“¤ ë° ì„¸í¬ë“¤ ì œê±°
            const dynamicElements = document.querySelectorAll('.opg-molecule, .igf-molecule, .mononuclear-cell, .protease-particle, .growth-factor, .osteoblast-precursor, .mature-osteoblast, .active-osteoblast, .trapped-osteoblast, .osteocyte-network, .calcium-crystal');
            dynamicElements.forEach(element => element.remove());
        }

        // ì´ˆê¸°í™”
        updateProgress();
    </script>
</body>
</html>